//
// @Authors:    
//      Brizuela Lucia                  lula.brizuela@gmail.com
//      Guerra Brenda                   brenda.guerra.7@gmail.com
//      Crosa Fernando                  fernandocrosa@hotmail.com
//      Branciforte Horacio             horaciob@gmail.com
//      Luna Juan                       juancluna@gmail.com
//      
//  @copyright (C) 2010 MercadoLibre S.R.L
//
//
//  @license        GNU/GPL, see license.txt
//  This program is free software: you can redistribute it and/or modify
//  it under the terms of the GNU General Public License as published by
//  the Free Software Foundation, either version 3 of the License, or
//  (at your option) any later version.
//
//  This program is distributed in the hope that it will be useful,
//  but WITHOUT ANY WARRANTY; without even the implied warranty of
//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//  GNU General Public License for more details.
//
//  You should have received a copy of the GNU General Public License
//  along with this program.  If not, see http://www.gnu.org/licenses/.
//

%script
  ejecucion_completa_#{execution.id}=true

//Stop
-if (execution and !execution.finished?)
  %script
    ejecucion_completa_#{execution.id}=false;
    //$j("#play_#{execution.id}").hide();
    //$j("#stop_#{execution.id}").show();
//-else
//  %script
//    $j("#stop_#{execution.id}").hide();
//    $j("#play_#{execution.id}").show();

-case execution.status
  -when 0
    =image_tag 'icons/waiting_1.png', :style=>'border:none;', :alt=>'waiting_1.png', :title=>execution.s_status

  -when 1 
    =image_tag '/images/load/spinner.gif', :style=>'border:none;', :alt => 'spinner', :title=>execution.s_status

  -when 2
    =image_tag 'icons/ok_1.png', :style=>'border:none;cursor:pointer;', :alt=>'ok_1.png', :title=>execution.s_status, :onclick=> "$j('#show_status_#{execution.id.to_s}').show();"
    .tag{ :id => "show_status_#{execution.id.to_s}", :style=>' display:none; left: 25%; top: 20%;width:50%;  max-height:90%; min-height:70%;  position:absolute; padding: 1%;'}
      =render :partial=>'executions/show_status', :locals=> {:execution=>execution}

  -when 3
    =image_tag 'icons/fail_1.png', :style=>'border:none;cursor:pointer;', :alt =>'fail_1.png', :title=>execution.s_status, :onclick=> "$j('#show_status_#{execution.id.to_s}').show();"
    .tag{ :id => "show_status_#{execution.id.to_s}", :style=>'display:none; left: 25%; top: 20%;width:50%; max-height:90%; min-height:70%;  position:absolute; padding: 1%;'}
      =render :partial=>'executions/show_status', :locals=> {:execution=>execution}

  -when 4
    =image_tag 'icons/not_execution.png', :style=>'border:none;', :alt => 'not_execution.png', :title=>execution.s_status

  -when 5
    =image_tag 'icons/fail_execution.png', :style=>'border:none;', :alt => 'fail_execution.png', :title=>execution.s_status

  -when 6
    =image_tag 'icons/cancel.png', :style=>'border:none;', :alt => 'cancel_execution.png',:title=>execution.s_status    

  -else
    =execution.s_status   


